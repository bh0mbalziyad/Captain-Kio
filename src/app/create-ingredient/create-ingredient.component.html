<div class="container">
    <div class="row">
        <div class="col-12">
            <form [formGroup]='form' (ngSubmit)='submit()'>
                <div class="sample-container">
                    <mat-form-field floatLabel='auto' appearance="outline">
                        <mat-label>Name</mat-label>
                        <input formControlName='ingName' required matInput placeholder='Name for ingredient' type="text">
                        <mat-hint>Eg: Tomatoes, Onions, Capsicum</mat-hint>
                        <mat-error *ngIf="ingName.touched && ingName.errors?.containsRestricted">
                            Please use valid characters
                        </mat-error>
                        <mat-error *ngIf="ingName.errors?.nameExists" >An ingredient with that name has already been added</mat-error>
                        <mat-progress-bar *ngIf="ingName.pending" mode="indeterminate"></mat-progress-bar>
                    </mat-form-field>
                    <mat-form-field floatLabel='auto' appearance="outline">
                        <mat-label>Quantity</mat-label>
                        <input formControlName='ingQuantity' required matInput placeholder='Quantity of your ingredient'  type="number">
                        <mat-hint>Eg: 1Kg, 2Ltrs, 25 units</mat-hint>
                        <mat-error *ngIf="ingQuantity.touched && ingQuantity.errors?.containsRestrictedNumber">
                                Please use a valid value
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>Unit of measurement</mat-label>
                        <mat-select formControlName='ingUnit' required>
                            <mat-option>None</mat-option>
                            <mat-option *ngFor="let unit of units" [value]="unit.value">
                                {{unit.name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <button mat-raised-button type="submit" [disabled]='!form.valid' color='primary'>Create</button>
                </div>
            </form>
        </div>
    </div>
</div>